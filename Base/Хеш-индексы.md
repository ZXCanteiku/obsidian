## Хеш-индексы
aliases: 
	- "Хеш-индексы"

Хэш-индекс реализует вариацию структуры данных хэш-таблицы, при которой функция хэширования использует значение ключа индекса, создавая 4-байтовое знаковое целое значение (32 бита), представляющее значение ключа, и сохраняет хэшированное значение в так называемом ведре (bucket), наряду с указателем на то место, где находится запись в таблице кучи (по существу набор кортежей). До PostgreSQL версии 10 хэш-индексы не очень хорошо работали при высоко конкурентной нагрузке и не поддерживали протокол журнализации WAL, это означает, что они часто будут повреждены в случае восстановления после сбоя. Однако, поскольку были осуществлены улучшения хэш-индексов, они являются безопасными для использования, и в ряде случаев имеют преимущество по сравнению с индексами B-Tree.

### Ограничения хэш-индексов
Хэш-индексы поддерживают только сравнение на равенство при выполнении поиска. Это обусловлено применяемой структурой данных - алгоритм хэширования работает с ключом индекса, производя и сохраняя единственное 4-байтовое целое значение. Всякий раз, когда выполняется поиск, тот же самый алгоритм хэширования должен снова применяться к разыскиваемому значению для получения указателя на строку из бакета в этой структуре данных. По этой причине структура данных не имеет порядка. Единственным способом нахождения диапазона значений является чтение всей таблицы для обнаружения этих значений, при этом хэш-индекс не будет использоваться вообще.

### Преимущества хэш-индекса по сравнению с индексами B-Tree


---
Tags: #index #db #hash_index
Author: [[]]
Related: [[Типы индексов]]
URL: [[]]