Phaser

aliases: 
	- "Phaser"

**Phaser** — Улучшенная реализация барьера для синхронизации потоков, которая совмещает в себе функционал CyclicBarrier и CountDownLatch, вбирая в себя самое лучшее из них. Так, количество потоков жестко не задано и может динамически меняться. Класс может повторно переиспользоваться и сообщать о готовности потока без его блокировки. Более подробно можно почитать в хабратопике тут.

	Phaser phaser = new Phaser(1); // Один участник — главный поток
	phaser.register(); // Регистрация дополнительного потока
	new Thread(() -> {
	    phaser.arriveAndAwaitAdvance(); // Ожидание на фазе
	}).start();
	phaser.arriveAndDeregister(); // Де-регистрация потока

**Преимущества**:
- **Поддержка динамического числа потоков**: Потоки могут динамически регистрироваться и сниматься с регистрации.
- **Множественные фазы**: Подходит для задач, разделённых на этапы, в которых число участников меняется с каждым этапом.
**Недостатки**:
- **Сложнее в использовании**: Из-за дополнительных возможностей `Phaser` требует больше внимания к деталям и может быть сложнее в понимании.
- **Утечка ресурсов**: При постоянной регистрации потоков может происходить увеличение используемой памяти, если потоки не снимаются с регистрации.

---
Tags: #thread #java #locks #phaser
Author: [[]]
Related: [[Locks]]
URL: [[]]