## Алгоритм дырявого ведра
aliases: 
	- "дырявое ведро"

---

## Алгоритм дырявого ведра

Алгоритмы **дырявого ведра** и **маркерной корзины** очень похожи, но первый **обрабатывает запросы с фиксированной скоростью**. Обычно он реализуется с использованием **очереди типа FIFO**.

### Как работает алгоритм
1. **Проверка очереди**:
    - Если в очереди **есть место**, запрос **добавляется**.
    - Если очередь **заполнена**, запрос **отклоняется**.
2. **Обработка запросов**:
    - Запросы **извлекаются** из очереди и **обрабатываются с фиксированным интервалом времени**.
### Иллюстрация работы алгоритма
![[Pasted image 20250301202111.png]]

### Параметры алгоритма

Алгоритм **дырявого ведра** принимает два параметра:
- **Размер ведра** – равен размеру очереди; очередь хранит запросы, которые обрабатываются с постоянной скоростью.
- **Скорость утечки** – определяет, **сколько запросов можно обработать за определенный промежуток времени** (обычно за 1 секунду).

### Применение
Дырявые ведра для ограничения трафика **использует платформа электронной коммерции Shopify [7]**.

## Преимущества и недостатки
### Преимущества:

- **Эффективное потребление памяти** при ограниченном размере очереди.
- **Стабильная скорость обработки** – подходит для задач, требующих фиксированной нагрузки.

### Недостатки:

- **Всплеск трафика** может привести к переполнению очереди **старыми запросами**, из-за чего **новые запросы будут отклоняться**.
- Несмотря на то, что алгоритм принимает всего два параметра (**размер ведра и скорость утечки**), **их настройка может быть сложной**.

---

_Этот метод широко применяется для стабилизации нагрузки на системы, предотвращения перегрузок и управления потоком данных._

---
Tags: #solution
Author: [[]]
Related: [[Rate limit]]
URL: -- 