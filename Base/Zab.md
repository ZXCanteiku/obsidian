## Zab (ZooKeeper Atomic Broadcast)
aliases: 
	- "Zab (ZooKeeper Atomic Broadcast)"

---

# Zab

**Zab** — протокол из Apache ZooKeeper. Очень похож на Raft и Viewstamped Replication, хотя развивался независимо:

1. **Имеется лидирующий узел** (leader) и несколько «наблюдателей» (follower’ов).
2. Лидер формирует общий журнал (sequence) из операций (znode updates). Каждая операция получает **zxid** — монотонно увеличивающийся идентификатор.
3. При сбое лидера выбирается новый в «новом эпизоде» (epoch). После «синхронизации» журналов с кворумом протокол продолжает рассылку.

**Специфика**:

- ZooKeeper использует Zab для гарантии «линеаризуемых» операций записи (create, set, delete).
- Операция чтения в ZooKeeper по умолчанию не всегда линеаризуема (так как может обращаться к любому серверу, потенциально не догнавшему лидера). Однако есть команда `sync()`, которая «проталкивает» чтение в актуальное состояние.

Zab оптимизирован под **релятивно небольшой** объём данных (ZooKeeper обычно хранит лишь метаданные и координаты).

---
Tags: #highLoad #develop #coherence  #consensus
Author: [[]]
Related: [[Консенсусные протоколы]]
URL: -- 