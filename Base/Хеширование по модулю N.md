## Хеширование по модулю N
aliases: 
	- "хеширование по модулю N"

---
При секционировании по хешу ключа, лучше всего разбить возможные хеши на диапазоны и поставить в соответствие каждому диапазону секцию (например, key относится к секции 0, если 0 ≤ hash(key) < b0 , к секции 1, если b0 ≤ hash(key) < b1 и т. д.). Вероятно, вы недоумеваете, почему мы не используем просто mod (оператор % во многих языках программирования). Например, hash(key) mod 10 возвращает число от до 9 (если записывать хеш в виде десятичного числа, то хеш по модулю 10 будет равен его последней цифре). В случае десяти узлов, пронумерованных от 0 до 9, это кажется удобным способом назначения узлов для ключей. Проблема с методом mod N состоит в том, что при изменении количества N узлов придется перенести большинство ключей из одного узла в другой. Например, допустим, hash(key) = 123456. Если изначально у нас десять узлов, то этот ключ окажется в узле номер 6 (поскольку 123456 mod 10 = 6). Когда система вырастет до 11 узлов, этот ключ придется перенести в узел 3 (поскольку 123456 mod 11 = 3), а когда вырастет до 12 — в узел 0 (поскольку 123456 mod 12 = 0). Такие частые перемещения делают перебалансировку очень дорогим удовольствием. Нам требуется подход, при котором не нужно перемещать данные больше, чем необходимо.

---
Tags: #highLoad #develop #sectioning
Author: [[]]
Related: [[Перебалансировка секций]]
URL: -- 