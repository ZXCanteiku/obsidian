ReentrantLock Locks

aliases: 
	- "ReentrantLock"

**ReentrantLock** — Лок на вхождение. Только один поток может зайти в защищенный блок. Класс поддерживает «честную» (fair) и «нечестную» (non-fair) разблокировку потоков. При «честной» разблокировке соблюдается порядок освобождения потоков, вызывающих lock(). При «нечестной» разблокировке порядок освобождения потоков не гарантируется, но, как бонус, такая разблокировка работает быстрее. По умолчанию, используется «нечестная» разблокировка.

распространённая реализация `Lock`, которая предоставляет `Lock` с таким же базовым поведением и семантикой, как у `synchronized`, но расширенными возможностями, такими как опрос о блокировании (lock polling), ожидание блокирования заданной длительности и прерываемое ожидание блокировки. Кроме того, он предлагает гораздо более высокую эффективность функционирования в условиях жесткой _состязательности_.

	ReentrantLock lock = new ReentrantLock();
	lock.lock();
	try {
	    // критическая секция
	} finally {
	    lock.unlock();
	}

**Преимущества**:
- **Гибкость управления**: `ReentrantLock` предоставляет методы с тайм-аутами и возможность прерывания, а также не блокирующие попытки захвата (`tryLock()`).
- **Справедливость**: Опция справедливой блокировки обеспечивает порядок доступа к ресурсу в порядке ожидания (FIFO), уменьшая вероятность того, что одни потоки всегда будут ждать других.
**Недостатки**:
- **Сложность использования**: Требуется ручное управление блокировками, что делает код более подверженным ошибкам. При каждом `lock()` необходимо помнить о `unlock()`, лучше оборачивать в `try-finally`.
- **Сравнительно высокая накладная стоимость**: Управление блокировками, особенно справедливыми, может потребовать больше ресурсов.

---
Tags: #thread #java #locks #reentrant_lock
Author: [[]]
Related: [[Locks]]
URL: [[]]