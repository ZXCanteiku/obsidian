### Cпособы синхронизации в Java

aliases: 
	- "Cпособы синхронизации в Java"

- **Системная синхронизация с использованием `wait()`/`notify()`**. Поток, который ждет выполнения каких-либо условий, вызывает у этого объекта метод `wait()`, предварительно захватив его монитор. На этом его работа приостанавливается. Другой поток может вызвать на этом же самом объекте метод `notify()` (опять же, предварительно захватив монитор объекта), в результате чего, ждущий на объекте поток «просыпается» и продолжает свое выполнение. В обоих случаях монитор надо захватывать в явном виде, через `synchronized`-блок, потому как методы `wait()`/`notify()` не синхронизированы!
- **Системная синхронизация с использованием `join()`**. Метод `join()`, вызванный у экземпляра класса `Thread`, позволяет текущему потоку остановиться до того момента, как поток, связаный с этим экземпляром, закончит работу.
- **Использование классов из пакета `java.util.concurrent`**, который предоставляет набор классов для организации межпоточного взаимодействия. Примеры таких классов - [[Lock]], [[Semaphore]] и пр.. Концепция данного подхода заключается в использовании атомарных операций и переменных.
### Как работают методы `wait()` и `notify()`/`notifyAll()`
Эти методы поределены у класса `Object` и предназначены для взаимодействия потоков между собой при межпоточной синхронизации.
- `wait()`: освобождает монитор и переводит вызывающий поток в состояние ожидания до тех пор, пока другой поток не вызовет метод `notify()`/`notifyAll()`;
- `notify()`: продолжает работу потока, у которого ранее был вызван метод `wait()`;
- `notifyAll()`: возобновляет работу всех потоков, у которых ранее был вызван метод `wait()`.

---
Tags: #thread #java
Author: [[]]
Related: [[Java thread]]
URL: [[]]


