## Отображение наследования
aliases: 
	- "Отображение наследования"

Реляционные базы данных не имеют простого способа отображения иерархий классов в таблицах базы данных.
Для решения этой проблемы спецификация JPA предлагает несколько стратегий::
### _MappedSuperclass_ – родительские классы, не могут быть сущностями аннотация.

### Single Table – сущности из разных классов, имеющие общего предка, помещаются в одну таблицу. 
```java
@Entity 
@Inheritance(strategy = InheritanceType.SINGLE_TABLE) //  На класс родителя
```
Поскольку записи для всех сущностей будут находиться в одной и той же таблице, **Hibernate необходим способ различать их.**

**По умолчанию это делается с помощью столбца дискриминатора, называемого _DTYPE_** , который содержит имя сущности в качестве значения.
```java
@Entity(name="products") @Inheritance(strategy = InheritanceType.SINGLE_TABLE) @DiscriminatorColumn(name="product_type", discriminatorType = DiscriminatorType.INTEGER) public class MyProduct { // ... }
```
- Joined Table –  каждый класс имеет свою таблицу, и для запроса сущности подкласса требуется объединение таблиц.
- Table per Class – все свойства класса находятся в его таблице, поэтому объединение не требуется.


```java
@Entity 
public class Student { 
	@Id @GeneratedValue(strategy=GenerationType.AUTO) 
	private Long id; 
	private String name; // getters and setters 
}
```

- [[Виды генераций id]]
- [[Маппинг полей]]
- [[Отношения между сущностями]]


---
Tags: #inheritance_mapping
Author: [[]]
Related: [[Отношения между сущностями]]
URL: [[]]