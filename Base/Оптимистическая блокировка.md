### Оптимистическая блокировка

aliases: 
	- "Оптимистическая блокировка"

### Оптимистическая блокировка

**Оптимистическая блокировка** предполагает, что конфликтов между потоками за доступ к ресурсам будет немного, и позволяет потокам читать и изменять данные без предварительной блокировки. Этот подход не ограничивает чтение, и вместо блокировки проверяется, не изменил ли другой поток данные с момента их чтения.

- **Механизм работы**: При оптимистической блокировке используется контроль версий (например, номер версии или временная метка). Когда поток читает данные, он также запоминает версию. При попытке записи, перед обновлением данных, поток проверяет, совпадает ли текущая версия с сохранённой. Если версия изменилась, значит, другой поток уже обновил данные, и операция не будет выполнена.
- **Преимущества**:
    - **Высокая производительность**: Не используется блокировка на чтение, что уменьшает задержки и увеличивает параллелизм, особенно для операций, которые чаще читают, чем изменяют данные.
    - **Простота реализации в случаях с редкими конфликтами**: Если конфликты редки, то такая блокировка не создаёт накладных расходов.
- **Недостатки**:
    - **Неэффективность при высоком уровне конфликтов**: Если несколько потоков одновременно пытаются изменить одни и те же данные, часто происходит отказ при попытке записи, и оптимистическая блокировка не приносит выгоды.
    - **Необходимость дополнительных проверок**: Требуются дополнительные версии данных и логика для проверки версий при записи.

---
Tags: #thread #optimistic #lock
Author: [[]]
Related: [[Типы блокировок]]
URL: [[]]