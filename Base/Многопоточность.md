## Многопоточность

aliases: 
	- "Многопоточность"

**Потокобезопасность** – свойство объекта или кода, которое гарантирует, что при исполнении или использовании несколькими потоками, код будет вести себя, как предполагается. Например потокобезопасный счётчик не пропустит ни один счёт, даже если один и тот же экземпляр этого счётчика будет использоваться несколькими потоками.

**Конкуренция** — это способ одновременного решения множества задач.
**Параллелизм** — это способ выполнения разных частей одной задачи.

Java использует **вытесняющую многозадачность**, при которой решение о переключении между потоками процесса принимает операционная система.

**ordering** механизм, который определяет, когда один поток может увидеть _out-of-order_ (неверный) порядок исполнения инструкций другого потока. CPU для для повышения производительности может переупорядочивать процессорные инструкции и выполнять их в произвольном порядке до тех пор пока для потока внутри не будет видно никаких отличий. Гарантия предоставляемая этим механизмом называется **as-if-serial semantics**.
**sequential consistency** - то же что и _as-if-serial semantics_, гарантия того, что в рамках одного потока побочные эффекты от всех операций будут такие, как будто все операции выполняются последовательно.
**visibility** определяет, когда действия в одном потоке становятся видны из другого потока.
**happens-before** - логическое ограничение на порядок выполнения инструкций программы. Если указывается, что запись в переменную и последующее ее чтение связаны через эту зависимость, то как бы при выполнении не переупорядочивались инструкции, в момент чтения все связанные с процессом записи результаты уже зафиксированы и видны.
**atomicity** — атомарность операций.
**mutual exclusion** (взаимоисключающая блокировка, семафор с одним состоянием) - механизм, гарантирующий потоку исключительный доступ к ресурсу.
**safe publication**? - показ объектов другим потокам из текущего, не нарушая ограничений _visibility_. Способы такой публикации в Java:
- `static{}` инициализатор;
- `volatile` переменные;
- `atomic` переменные;
- сохранение в разделяемой переменной, корректно защищенной с использованием `synchronized()`, синхронизаторов или других конструкций, создающих _read/write memory barrier_;
- `final` переменные в разделяемом объекте, который был корректно проинициализирован.

**Процесс** — экземпляр программы во время выполнения, независимый объект, которому выделены системные ресурсы (например, процессорное время и память). Каждый процесс выполняется в отдельном адресном пространстве: один процесс не может получить доступ к переменным и структурам данных другого. Если процесс хочет получить доступ к чужим ресурсам, необходимо использовать межпроцессное взаимодействие. Это могут быть конвейеры, файлы, каналы связи между компьютерами и многое другое.
**Поток**(thread) — определенный способ выполнения процесса, определяющий последовательность исполнения кода в процессе. Потоки всегда создаются в контексте какого-либо процесса, и вся их жизнь проходит только в его границах. Потоки могут исполнять один и тот же код и манипулировать одними и теми же данными, а также совместно использовать описатели объектов ядра, поскольку таблица описателей создается не в отдельных потоках, а в процессах.

- [[Модель памяти в Java]]
- [[Зелёные потоки]]
- [[Java thread]]
- [[Типы блокировок]]
- [[Проблемы многопоточности]]





---
Tags: #thread
Author: [[]]
Related: [[Java Developer]]
URL: [[]]