StampedLock

aliases: 
	- "StampedLock"

**StampedLock** - Современная версия `ReadWriteLock`, которая включает механизмы оптимистического чтения. Потоки могут выполнять операции без блокировки, пока не происходит записи, используя метод `tryOptimisticRead()`.
```java
StampedLock lock = new StampedLock();
long stamp = lock.tryOptimisticRead();
try {
	// Чтение данных
} finally {
	lock.unlock(stamp);
}
```

**Преимущества**:
- **Оптимистическое чтение**: `StampedLock` позволяет избежать блокировок при операциях чтения, если записи не происходят, что может значительно ускорить операции чтения.
- **Гибкость**: Поддерживает также обычные блокировки на запись и чтение, сочетая подходы для разных сценариев.
**Недостатки**:
- **Сложность**: Более сложный в реализации и использовании по сравнению с `ReentrantReadWriteLock`.
- **Не поддерживает повторный захват**: Не позволяет потокам повторно захватывать тот же замок, что ограничивает его применение в некоторых сценариях.

---
Tags: #thread #java #locks #stampedLock
Author: [[]]
Related: [[Locks]]
URL: [[]]